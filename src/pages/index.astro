---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
	<body itemscope itemtype="https://schema.org/Person">
		<Header title={SITE_TITLE} />
		<main class="screen">
      <h1 itemprop="name">Artur Parkhisenko</h1>
      <em>www. www always changes</em>
      <br />
      <span itemprop="jobTitle"><abbr title="Video Playback Experience">VPE</abbr> Engineer</span> 📹 ビデオ
      <p>I love <abbr title="Open Source Software">OSS</abbr> ⚡</p>
      <br />
      <address>
        <a itemprop="url" rel="noopener" href="https://github.com/arturparkhisenko">GitHub</a> <a itemprop="url"
          rel="noopener" href="https://gist.github.com/arturparkhisenko">(Gists)</a>,
        <a itemprop="url" rel="noopener" href="https://arturparkhisenko.github.io/blog/">My Blog</a>,
        <a itemprop="url" rel="noopener" href="https://www.linkedin.com/in/artur-parkhisenko"
          target="_blank">LinkedIn</a>,
        <br />
        <a itemprop="url" rel="noopener" href="https://codepen.io/arturparkhisenko" target="_blank">CodePen</a>,
        <a itemprop="url" rel="noopener" href="https://speakerdeck.com/arturparkhisenko" target="_blank">Speaker
          Deck</a>,
        <a itemprop="url" rel="noopener" href="https://www.goodreads.com/user/show/63098005-artur-parkhisenko"
          target="_blank">Goodreads</a>
      </address>
      <small>
        <span class="small-urls" title="a weekly random image is on the background">the cake is a lie → 🍰</span>
        <a href="https://www.thevenusproject.com/" target="_blank" rel="noopener" title="Life Is Strange"
          class="small-urls">hole to another universe → 🕳️</a>
      </small>
      <script>
        console.info('%c Hi! ;)', 'background: #333; color: #DCCD69');

        const elBody = document.querySelector('body');

        /**
         * addEventListenerOnce
         * @param {object} target
         * @param {string} type
         * @param {function} listener
         */
        const addEventListenerOnce = (target, type, listener) => {
          target.addEventListener(
            type,
            function fn(event) {
              target.removeEventListener(type, fn);
              listener(event);
            },
            { once: true }
          );
        };

        // background ---------------------------

        const removeBg = () => {
          document.body.classList.remove('background');
          document.body.style.backgroundImage = '';
          console.info('[Background] removed');
        };

        const setBg = () => {
          if (navigator.onLine === false) {
            console.warn("[Background] cannot load the background, you're offline");
            return;
          }

          console.info('[Background] loading...');
          document.body.classList.add('background');
          // @see https://source.unsplash.com/
          document.body.style.backgroundImage = `url('https://source.unsplash.com/weekly/?aesthetic')`;
        };

        const initBg = eventName => {
          console.log(`Background update listener init by ${eventName} event`);

          window.addEventListener('online', setBg);
          window.addEventListener('offline', removeBg);
          setBg();
        };

        // init bg ------------------------------

        addEventListenerOnce(elBody, 'mouseover', () => {
          initBg('mouseover');
        });

        addEventListenerOnce(elBody, 'touchstart', () => {
          initBg('touchstart');
        });
      </script>
			<!-- <h1>🧑‍🚀 Hello, Astronaut!</h1>
			<p>
				Welcome to the official <a href="https://astro.build/">Astro</a> blog starter template. This
				template serves as a lightweight, minimally-styled starting point for anyone looking to
				build a personal website, blog, or portfolio with Astro.
			</p>
			<p>
				This template comes with a few integrations already configured in your
				<code>astro.config.mjs</code> file. You can customize your setup with
				<a href="https://astro.build/integrations">Astro Integrations</a> to add tools like
				Tailwind, React, or Vue to your project.
			</p>
			<p>Here are a few ideas on how to get started with the template:</p>
			<ul>
				<li>Edit this page in <code>src/pages/index.astro</code></li>
				<li>Edit the site header items in <code>src/components/Header.astro</code></li>
				<li>Add your name to the footer in <code>src/components/Footer.astro</code></li>
				<li>Check out the included blog posts in <code>src/pages/blog/</code></li>
				<li>Customize the blog post page layout in <code>src/layouts/BlogPost.astro</code></li>
			</ul>
			<p>
				Have fun! If you get stuck, remember to <a href="https://docs.astro.build/"
					>read the docs
				</a> or <a href="https://astro.build/chat">join us on Discord</a> to ask questions.
			</p>
			<p>
				Looking for a blog template with a bit more personality? Check out <a
					href="https://github.com/Charca/astro-blog-template"
					>astro-blog-template
				</a> by <a href="https://twitter.com/Charca">Maxi Ferreira</a>.
			</p> -->
		</main>
		<Footer />
	</body>
</html>
