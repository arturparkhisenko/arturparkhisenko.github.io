{"version":3,"file":null,"sources":["module-effects.js","module-bg.js","main.js"],"sourcesContent":["const randomIntFromInterval = (min, max) =>\r\n  Math.floor(Math.random() * (max - min + 1) + min);\r\n\r\n/**\r\n * [hue description]\r\n * @param  {string} selector\r\n * @param  {number} deg\r\n * @param  {boolean} random = false\r\n * @return {undefined}\r\n */\r\nexport function hue(selector, deg, random = false) {\r\n  console.info('hue');\r\n  const element = document.querySelector(selector);\r\n  const degrees = random ? randomIntFromInterval(0, 180) : deg;\r\n  if (element) {\r\n    element.style.webkitFilter = `hue-rotate(${degrees}deg)`;\n    element.style.filter = `hue-rotate(${degrees}deg)`;\n  }\r\n}\r\n\r\n// export default function effects() {\r\n//   return Object.assign({}, hue);\r\n// }\n","export default class BackgroundGenerator {\r\n\r\n  constructor() {\n    this.cw = window.innerWidth || document.documentElement.clientWidth ||\n      document.body.clientWidth || screen.width;\r\n    this.ch = window.innerHeight || document.documentElement.clientHeight ||\r\n      document.body.clientHeight || screen.height;\r\n    this.elBgImg = null;\r\n\r\n    // remove polyfill mdn\r\n    if (!('remove' in Element.prototype)) {\r\n      Element.prototype.remove = function remove() {\r\n        if (this.parentNode) {\r\n          this.parentNode.removeChild(this);\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  init() {\r\n    window.addEventListener('online', this.setBg);\r\n    window.addEventListener('offline', this.setBg);\r\n    this.setBg();\r\n  }\r\n\r\n  installBg() {\r\n    const newCw = this.cw + Math.round(Math.random());\r\n    const newCh = this.ch + Math.round(Math.random());\r\n\r\n    const elPre = document.querySelector('.background');\r\n    if (elPre) {\r\n      elPre.style.opacity = '1';\r\n    }\r\n    const elPreScreen = document.querySelector('.screen');\r\n\r\n    this.elBgImg = document.createElement('img');\r\n    this.elBgImg.classList.add('background');\r\n    this.elBgImg.setAttribute('alt', 'background');\r\n    this.elBgImg.addEventListener('load', () => {\r\n      document.body.insertBefore(this.elBgImg, elPre || elPreScreen);\r\n      if (elPre) {\r\n        elPre.style.opacity = '0';\r\n        setTimeout(() => {\r\n          elPre.remove();\r\n        }, 400);\r\n      }\r\n    }, false);\r\n    this.elBgImg.src = `https://source.unsplash.com/${newCw}x${newCh}`;\r\n  }\r\n\r\n  setBg() {\r\n    if (navigator.onLine) {\n      this.installBg();\r\n    } else {\r\n      console.warn('Sorry, cant set new and beautiful background, because you\\'re offline');\r\n    }\r\n  }\r\n\r\n}\n","import BackgroundGenerator from './module-bg';\r\nimport { hue } from './module-effects';\n\r\nconsole.info('%c ;) Hi there! ', 'background: #333; color: #DCCD69');\r\n\r\n// async-css-------------------------------------------------------------------\r\nconst cb = () => {\r\n  const l = document.createElement('link');\r\n  l.rel = 'stylesheet';\r\n  l.href = '../styles/main.min.css';\r\n  const h = document.getElementsByTagName('head')[0];\r\n  h.parentNode.insertBefore(l, h);\r\n};\r\nconst raf = requestAnimationFrame || window.mozRequestAnimationFrame ||\r\n  window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\nif (raf) {\r\n  raf(cb);\r\n} else {\r\n  window.addEventListener('load', cb);\r\n}\r\n\r\n// device-api------------------------------------------------------------------\r\n\r\n// mouse trap\r\n// http://codepen.io/ikeagold/pen/ZGGbyp\r\n\r\n// deviceorientation\r\n// if (window.DeviceOrientationEvent) {\r\n//   // deviceorientation\r\n//   // window.addEventListener('deviceorientation', (event) => {\r\n//   // Get the left-to-right tilt (in degrees).\r\n//   // const tiltLR = event.gamma;\r\n//   // Get the front-to-back tilt (in degrees).\r\n//   // let titleFB = event.beta;\r\n//   // Get the direction of the device (in degrees).\r\n//   // let direction = event.alpha;\r\n//   // });\r\n// }\r\n\r\n// mouse\r\n// if (!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|\r\n// Opera Mini/i.test(navigator.userAgent))) {\r\n//   // const checkCursor = () => {\r\n//   //   console.log(\"Cursor at: \" + cursorX + \", \" + cursorY);\r\n//   // };\r\n//   // let cursorX;\r\n//   // let cursorY;\r\n//   // document.onmousemove = (event) => {\r\n//   //   cursorX = event.pageX;\r\n//   //   cursorY = event.pageY;\r\n//   // };\r\n//   // setInterval(checkCursor, 200);\r\n// }\r\n\r\n// devicelight\r\nconst elDevicelight = document.querySelector('.devicelight');\r\nwindow.addEventListener('devicelight', (event) => {\r\n  const icon = event.value < 50 ? 'ðŸŒš' : 'ðŸŒž';\r\n  elDevicelight.textContent(icon);\r\n});\r\n\r\n// battery\r\nif (navigator.getBattery) {\r\n  const elBattery = document.querySelector('.battery');\r\n  navigator.getBattery().then((result) => {\r\n    const levelChange = () => {\r\n      elBattery.textContent = `ðŸ”‹ ${parseInt(result.level * 100, 10)}%`;\r\n    };\r\n    result.onlevelchange = levelChange;\r\n    levelChange();\r\n  });\r\n}\r\n\r\n// use-modules-----------------------------------------------------------------\r\n\r\nconst bgg = new BackgroundGenerator();\r\nbgg.init();\r\n\r\n// enable tips\r\nconst elNb = document.querySelector('.notice-bg');\r\nconst elNc = document.querySelector('.notice-colors');\r\nelNb.style.display = 'block';\r\nelNc.style.display = 'block';\r\n\r\n// clicks----------------------------------------------------------------------\r\n\r\ndocument.querySelector('body').addEventListener('click', () => {\r\n  bgg.setBg();\r\n}, false);\r\n\r\ndocument.querySelector('.screen').addEventListener('click', (event) => {\r\n  // hue(selector, deg, random = false)\r\n  hue('.background', 0, true);\r\n  event.stopPropagation();\r\n}, false);\r\n\r\n// offline-support-------------------------------------------------------------\r\n\r\nif ('serviceWorker' in navigator) {\r\n  navigator.serviceWorker.register('./../sw.js', {\r\n    scope: './'\r\n  }).then((registration) => {\r\n    let isUpdate = false;\r\n    if (registration.active) {\r\n      isUpdate = true;\r\n    }\r\n    registration.onupdatefound = (event) => {\r\n      console.log('New site update avaliable ;)');\r\n      // not `=>` because it doesn't create scope\r\n      registration.installing.onstatechange = function(event) {\r\n        if (this.state === 'installed') {\r\n          console.log('serviceWorker installed!');\r\n          if (isUpdate) {\r\n            console.log('serviceWorker was updated, please restart tab');\r\n          } else {\r\n            console.log('App ready for offline use.');\r\n          }\r\n        } else {\r\n          console.log('Site new serviceWorker state: ', this.state);\r\n        }\r\n      };\n      // if (navigator.serviceWorker.controller) {\n      //   var installingWorker = registration.installing;\n      //   installingWorker.onstatechange = function() {\n      //     switch (installingWorker.state) {\n      //       case 'installed':\n      //         break;\n      //       case 'redundant':\n      //         throw new Error('The installing ' +\n      //           'service worker became redundant.');\n      //       default:\n      //         // Ignore\n      //     }\n      //   };\n      // }\n    };\r\n  }, (err) => {\n    console.log('serviceWorker', err);\r\n  });\r\n} else {\r\n  console.log('service worker is not supported');\r\n}\r\n\r\n// google-analytics------------------------------------------------------------\r\n\r\n(function(i, s, o, g, r, a, m) {\r\n  i['GoogleAnalyticsObject'] = r;\r\n  i[r] = i[r] || function() {\r\n    (i[r].q = i[r].q || []).push(arguments);\r\n  }, i[r].l = 1 * new Date();\r\n  a = s.createElement(o),\r\n    m = s.getElementsByTagName(o)[0];\r\n  a.async = 1;\r\n  a.src = g;\r\n  m.parentNode.insertBefore(a, m);\r\n})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\r\n\r\nwindow.ga('create', 'UA-36592065-4', 'auto');\r\nwindow.ga('send', 'pageview');\n"],"names":["hue","selector","deg","random","info","element","document","querySelector","degrees","randomIntFromInterval","style","webkitFilter","filter","BackgroundGenerator","cw","window","innerWidth","documentElement","clientWidth","body","screen","width","ch","innerHeight","clientHeight","height","elBgImg","Element","prototype","remove","this","parentNode","removeChild","addEventListener","setBg","newCw","Math","round","newCh","elPre","opacity","elPreScreen","createElement","classList","add","setAttribute","insertBefore","_this","src","navigator","onLine","installBg","warn","min","max","floor","console","cb","l","rel","href","h","getElementsByTagName","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","elDevicelight","event","icon","value","textContent","getBattery","elBattery","then","result","levelChange","parseInt","level","onlevelchange","bgg","init","elNb","elNc","display","stopPropagation","serviceWorker","register","registration","isUpdate","active","onupdatefound","log","installing","onstatechange","state","err","i","s","o","g","r","a","m","q","push","arguments","Date","async","ga"],"mappings":"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"}